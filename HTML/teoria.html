<html><head>
  <meta charset="utf-8">
  <title>Teoria</title>
  <link rel="stylesheet" href="home.css">
</head>

<body id="main_body">
  <div id="topnav">
    <span id="topnav_span">
      <a class="topnav_el" href="home.html">Home</a>
      <a class="topnav_el" href="#">Teoria</a>
      <a class="topnav_el" href="manuale.html">Manuale</a>
      <a class="topnav_el" href="progetto.html">Progetto</a>
    </span>
  </div>
  <div style="margin: auto; width: 800px">
    <header>Teoria</header>
    <h2>Proiezione</h2>
	<p>L'obbietivo dell'applicativo è proiettare due mani per formare delle ombre cinesi sullo schermo di un palco, creando quindi la proiezione degli oggetti 3D sul piano utilizzando la geometria proiettiva.
		Il modello utilizzato è quello formato da:
	<ul>
		<li>Il centro di proiezione, che chiamiamo punto E, che funge da punto di vista</li>
		<li>Il piano immagine, o schermo, che chiamiamo π, disgiunto dal punto E</li>
		<li>L'oggetto da proiettare, disgiunto dal punto E e dal piano π</li>
	</ul>
	Prendiamo in considerazione la retta passante per il punto P, appartenente all'oggetto, e il punto E. Tale retta interseca il piano in un punto P', che rappresenta la proiezione di P sullo schermo stesso. <br />
	Tutti i punti nello spazio hanno un unico corrispondente che giace sullo schermo, ma la rappresentazione non è biunivoca, perché possono esserci punti differenti nello spazio 3D che sono rappresentati sul piano dallo stesso punto.</br>
	Più comunemente una proiezione è rappresentata come di seguito, con il piano di proiezione posizionato tra l'oggetto e il punto E. In questo caso particolare è il nostro oggetto da proiettare che si trova tra il punto E e il piano, ma il meccanismo rimane il medesimo.

	<div style="text-align: center">
		<img src="proiezione_p.png" height="200" style="margin: 20px;"/>
		</div>

	L'ombra è il risultato della proiezione della mano a partire dal punto E, che rappresenta il punto di vista della proiezione. Il piano π, invece, corrisponde allo schermo del palco, cioè la parete su cui verrà proiettata l'ombra. La mano, oggetto proiettato, è disgiunta da entrambi questi elementi e non ha punti in comune con essi.
	La proiezione si ottiene individuando i punti di intersezione tra il piano di proiezione e le rette passanti per il punto E e i vertici dell'oggetto.<br />
	 In particolare, trattandosi di un oggetto complesso, ad ogni faccia facciamo corrispondere un triangolo proiettato, i cui vertici vengono utilizzati per creare la mesh dell'ombra completa.
	</p>
    <h3>Intersezione retta-piano</h3>
    <p>
	Dato un vertice P del poligono, la retta r passante per i punti P ed E è definita dalla seguente equazione
	<div style="text-align: center">
		<img src="retta_r.svg" style="margin: 20px;"/>
	</div>
	Il piano π, per semplicità, è fisso e posizionato ortogonalmente al vettore (-1,0,0) ed è passante per l'origine degli assi. La sua equazione è quindi
	<div style="text-align: center">
		<img src="equazione_piano.svg" style="margin: 20px;"/>
	</div>
	Per calcolare il punto di intersezione tra la retta r e il piano π è sufficiente calcolare il parametro t sostituendo i parametri della retta nell'equazione del piano
	<div style="text-align: center">
		<img src="parametro_t.svg" style="margin: 20px;"/>
	</div>
	Trovato t è possibile sostituirlo nell'equazione della retta r per ottenere le coordinate del punto di intersezione.
	</p>
	<p>
	In alternativa è possibile calcolare la matrice M di proiezione e procedere tramite calcolo matriciale con coordinate omogenee, ottendendo così le coordinate dell'intersezione a meno di un fattore di proporzionalità.
	<div style="text-align: center">
		<img src="calcolo_matrici.svg" style="margin: 20px;"/>
	</div>
	Ripetendo il procedimento per ogni vertice di ogni triangolo del modello si ottengono i punti della proiezione, cioè dell'ombra cercata.
	</p>
    <h2>Trasformazioni geometriche</h2>
    <p>
	Con l'obiettivo di mettere a disposizione varie rappresentazioni di ombre è necessario applicare trasformazioni affini all'oggetto e ai sotto-oggetti di cui è composto, in modo da poterlo traslare e ruotare.</br>
	Una trasformazione affine è una classe di trasformazioni geometriche che preserva la linearità delle rette e la coplanarità dei punti. In altre parole, durante una trasformazione affine, i punti allineati rimarranno allineati, e i punti che giacciono sullo stesso piano prima della trasformazione continueranno a farlo dopo la trasformazione.<br />
	Essa può essere descritta come
	<div style="text-align: center">
		<img src="trasformazioni_affini.svg" style="margin: 20px;"/>
	</div>
	Dove A è una matrice quadrata invertibile. <br />
	Le trasformazioni affini includono traslazioni, rotazioni, ridimensionamenti, e riflessioni. Nell'ambito della nostra applicazione, utilizziamo traslazioni e rotazioni per posizionare e orientare correttamente le mani sul piano di proiezione e la fonte di luce.
	</p>
	<h3>Rototraslazione</h3>
    <p>
	Si ha una trasformazione di traslazione se A = I e c ≠ 0. c rappresenta il vettore di traslazione che sposta ogni punto P in P' tale che P' - P = c. La traslazione è una operazione commutativa ed è chiusa in quanto la composizione di più traslazioni è essa stessa una traslazione.
	<div style="text-align: center">
		<img src="traslazione.svg" style="margin: 20px;"/>
	</div>
	La rotazione è definita attorno agli assi locali dell'oggetto. Per ogni asse attorno al quale si deve ruotare si definisce un angolo di rotazione che viene applicato dalla matrice di rotazione che ruota l'oggetto su ogni asse indipendentemente.
	<div style="text-align: center">
		<img src="rotazione.svg" style="margin: 20px;"/>
	</div>
	La combinazione sequenziale di trasformazioni affini offre una flessibilità fondamentale per ottenere diverse rappresentazioni di ombre, consentendo variazioni nelle posizioni e orientamenti delle mani. Ad esempio, per determinare la posizione finale di un punto sulla falangetta del dito indice, è necessario combinare le rotazioni della falangetta, della falangina, della falange e del polso.
	</p>
	<h3>Camera Proiettiva</h3>
    <p>
	Il risultato è visualizzato dal punto di vista di una camera fissa presente nello spazio. La scena costruita deve, quindi, essere proiettata da uno spazio 3D a un piano di proiezione che corrisponde allo schermo dove viene visualizzata.
	Questo meccanismo si ottiene tramite l'utilizzo di una camera proiettiva definita da una matrice P.
	</p>
    <p>
	Per costruire la matrice sopra citata è possibile partire da una semplice proiezione con la camera in posizione canonica, cioè centrata nell'origine, con un piano di proiezione di equazione z = f; f è la distanza focale mentre z corrisponde all'asse focale.
	È possibile definire il sistema di riferimento del piano z = f con assi x e y locali paralleli agli assi x e y nello spazio.
	Con questi presupposti si può costruire una semplice matrice K di proiezione con punti in coordinate omogenee.
	<div style="text-align: center">
		<img src="matrice_K.svg" style="margin: 20px;"/>
	</div>
	In una situazione più in generale la camera si trova in coordinate generiche risultato dell'applicazione di una rototraslazione dall'origine al centro della camera.
	<div style="text-align: center">
		<img src="rototraslazione_camera.svg" style="margin: 20px;"/>
	</div>
	È quindi possibile considerare l'applicazione della rototraslazione inversa in modo da riportare la camera nella situazione canonica per descriverne la trasformazione.
	<div style="text-align: center">
		<img src="rototraslazione_inversa_camera.svg" style="margin: 20px;"/>
	</div>
	La matrice A è una matrice diagonale, quindi la sua inversa R può essere calcolata come la trasposta di A ed è formata dai versori riga che formano il sistema di riferimento nel centro della camera.
	</p>
    <p>
	La matrice P della camera è la combinazione delle matrici descritte
	<div style="text-align: center">
		<img src="matrice_P.svg" style="margin: 20px;"/>
	</div>
	</p>
  </div>
</body></html>